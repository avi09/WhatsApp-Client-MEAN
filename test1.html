<html>
   <head>
      <title>Angular JS Includes</title>
      <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
      <style>
         table, th , td {
            border: 1px solid grey;
            border-collapse: collapse;
            padding: 5px;
         }
         table tr:nth-child(odd) {
            background-color: #f2f2f2;
         }
         table tr:nth-child(even) {
            background-color: #ffffff;
         }
         body {
         	background-color: black;
         	color: white;
         }
      </style>
   </head>
   
   <body>
      <center><div style="background-color: #43de64;"><b><font size=5>WhatsApp Client - NodeJS | AngularJS | Twilio </font></b> <br>
      <font size=2><div style="float: right; color: gray;">Session Connected
      </div></font>
      </div><br>
      <div ng-app = "mainApp" ng-controller = "studentController">
      
            <div ng-repeat = "student in students" style="width: 45%;">
            <div style="width:{{student.message.length*15}}; background: {{student.color}}; border-radius: 15px; 			 		    float: {{situation[student.color]}}">
               <font size=4 color="white">{{ student.message }}</font></div><br><br><div style="float: {{situation[student.color]}};"> <font size=1 color="gray">
               {{ student.type }} {{ student.time }}</font>
            </div>
            <br>
            </div>
            <br>
            <br>
            <form ng-submit="preSubmit()" action="/connected/message">
            <input name = "messag" type = "text" ng-model = "mg" required><br><br>
            <button ng-click="student.fullName()">Message</button>
            <form>
      </center>
      </div>
      <meta http-equiv="refresh" content="5"/>
      <script>
       var mainApp = angular.module("mainApp", []);
         mainApp.controller('studentController', function($scope, $http) {
            $scope.student = {
               fullName: function() {
                  window.location=window.location.href+"/message";
               }
               
            };
            $scope.situation = {'#2853a8':'right','#4cb518':'left'};
            $scope.home=window.location.href;
            $http.get('data.json').then( function(response) {
               $scope.students = response.data;
            });
         });
      </script>
      
      <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.2.15/angular.min.js">
      </script>
      
   </body>
</html>
